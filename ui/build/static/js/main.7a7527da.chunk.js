(this["webpackJsonpwifi-connect-ui"]=this["webpackJsonpwifi-connect-ui"]||[]).push([[0],{1186:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(79),o=n.n(s),r=(n(480),n(481),n(408)),l=n(409),c=n.n(l),u=n(1199),m=n(1197),d=n(465),f=n(22),w=n(63),p=n(27),h=n(1198);const _=()=>i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{strokeWidth:"0.1",fill:"currentColor",stroke:"currentColor",d:"M13.5 2c-5.621 0-10.211 4.443-10.475 10h-3.025l5 6.625 5-6.625h-2.975c.257-3.351 3.06-6 6.475-6 3.584 0 6.5 2.916 6.5 6.5s-2.916 6.5-6.5 6.5c-1.863 0-3.542-.793-4.728-2.053l-2.427 3.216c1.877 1.754 4.389 2.837 7.155 2.837 5.79 0 10.5-4.71 10.5-10.5s-4.71-10.5-10.5-10.5z"})),g={en:{welcome_message:"Please choose your WiFi SSID from the list"}},b={en:{welcome_message:"Please choose your WiFi from the list",passphrase:"Passphrase",ssid:"Wifi network name (SSID)",connect_wifi:"Connect",no_wifi_network_available:"No wifi networks available.",ensure_wifi_in_range:"Please ensure there is a network within range and hit Rescan.",applying_changes:"Applying changes",failed_to_fetch_wifi_networks:"Failed to fetch available networks",failed_to_connect_to_wifi_networks:"Failed to connect to the network.",select_ssid:"Select SSID",device_will_soon_be_online:"Your device will soon be online. If connection is unsuccessful, the Access Point will be back up in a few minutes, and reloading this page will allow you to try again.",rescan:"Rescan"},fr:{welcome_message:"S\xe9lectionnez le r\xe9seau Wifi \xe0 connecter dans la liste",passphrase:"Mot de passe Wifi",ssid:"R\xe9seau Wifi (SSID)",connect_wifi:"Se connecter",no_wifi_network_available:"Aucun r\xe9seau Wifi n'est visible.",ensure_wifi_in_range:"Assurez-vous qu'un r\xe9seau Wifi est proche et cliquez sur Rafra\xeechir.",applying_changes:"Changement en cours",failed_to_fetch_wifi_networks:"Impossible d'identifier les r\xe9seaux Wifi",failed_to_connect_to_wifi_networks:"Impossible de se connecter au r\xe9seau Wifi.",select_ssid:"S\xe9lectionner le r\xe9seau Wifi",device_will_soon_be_online:"Votre p\xe9riph\xe9rique devrait bient\xf4t \xeatre en ligne. Si la connexion ne fonctionne pas, le portail sera de retour dans quelques minutes, vous pourrez alors recharger cette page et r\xe9essayer. Si ce n'est pas le cas, red\xe9marrez votre p\xe9riph\xe9rique.",rescan:"Rafra\xeechir"}};function v(e){const t=function(){let e="";switch(!0){case!!window.navigator.language:e=window.navigator.language;break;default:e="en"}return 2!==e.length&&(e=e.substring(0,2)),e in b?e:"en"}();return t in g&&e in g[t]?g[t][e]:t in b&&e in b[t]?b[t][e]:e in g.en?g.en[e]:e in b.en?b.en[e]:""}const y=e=>{var t;return{type:"object",properties:{ssid:{title:v("ssid"),type:"string",default:null===(t=e[0])||void 0===t?void 0:t.ssid,oneOf:e.map(e=>({const:e.ssid,title:e.ssid}))},identity:{title:"User",type:"string",default:""},passphrase:{title:v("passphrase"),type:"string",default:""}},required:["ssid"]}},k=e=>{let{fetchNetworks:t,availableNetworks:n,onSubmit:i}=e;const[s,o]=a.useState({}),r=(l=n,c=s.ssid,l.some(e=>e.ssid===c&&"enterprise"===e.security));var l,c,u;return a.createElement(f.a,{flexDirection:"column",alignItems:"center",justifyContent:"center",m:4,mt:5},a.createElement(w.a.h3,{align:"center",mb:4},a.createElement(f.a,{flexDirection:["column","row"],flexWrap:"wrap"},v("welcome_message"),a.createElement(p.a,{ml:[0,3],tertiary:!0,plain:!0,icon:a.createElement(_,null),onClick:t},v("rescan")))),a.createElement(h.a,{width:["100%","80%","60%","40%"],onFormChange:e=>{let{formData:t}=e;o(t)},onFormSubmit:e=>{let{formData:t}=e;return i(t)},value:s,schema:y(n),uiSchema:(u=r,{ssid:{"ui:placeholder":v("select_ssid"),"ui:options":{emphasized:!0}},identity:{"ui:options":{emphasized:!0},"ui:widget":u?void 0:"hidden"},passphrase:{"ui:widget":"password","ui:options":{emphasized:!0}}}),submitButtonProps:{width:"60%",mx:"20%",mt:3,disabled:n.length<=0},submitButtonText:v("connect_wifi")}))};var S=n(467),E=n(15);const x=e=>{let{hasAvailableNetworks:t,attemptedConnect:n,error:i}=e;return a.createElement(a.Fragment,null,n&&a.createElement(S.a,{m:2,info:!0},a.createElement(E.a.span,null,v("applying_changes")),a.createElement(E.a.span,null,v("device_will_soon_be_online"))),!t&&a.createElement(S.a,{m:2,warning:!0},a.createElement(E.a.span,null,v("no_wifi_network_available"),"\xa0"),a.createElement(E.a.span,null,v("ensure_wifi_in_range"))),!!i&&a.createElement(S.a,{m:2,danger:!0},a.createElement(E.a.span,null,i)))};var C,W=n(2);const z=Object(W.createGlobalStyle)(C||(C=Object(r.a)(["\n\tbody {\n\t\tmargin: 0;\n\t\tfont-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n\t\t\t'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n\t\t\tsans-serif;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t}\n\n\tcode {\n\t\tfont-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\n\t}\n"])));var I=()=>{const[e,t]=i.a.useState(!1),[n,a]=i.a.useState(!0),[s,o]=i.a.useState(""),[r,l]=i.a.useState([]),f=()=>{a(!0),fetch("/networks").then(e=>{if(200!==e.status)throw new Error(e.statusText);return e.json()}).then(l).catch(e=>{o("".concat(v("failed_to_fetch_wifi_networks"),". ").concat(e.message||e))}).finally(()=>{a(!1)})};i.a.useEffect(()=>{f()},[]);return i.a.createElement(u.a,null,i.a.createElement(z,null),i.a.createElement(m.a,{style:{backgroundColor:""},brand:i.a.createElement("img",{src:c.a,style:{height:30},alt:"logo"})}),i.a.createElement(d.a,null,i.a.createElement(x,{attemptedConnect:e,hasAvailableNetworks:n||r.length>0,error:s}),i.a.createElement(k,{fetchNetworks:f,availableNetworks:r,onSubmit:e=>{t(!0),o(""),fetch("/connect",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>{if(200!==e.status)throw new Error(e.statusText)}).catch(e=>{o("".concat(v("failed_to_connect_to_wifi_networks")," ").concat(e.message||e))})}})))};o.a.render(i.a.createElement(I,null),document.getElementById("root"))},409:function(e,t,n){e.exports=n.p+"static/media/logo.34c0c94e.svg"},475:function(e,t,n){e.exports=n(1186)}},[[475,1,2]]]);